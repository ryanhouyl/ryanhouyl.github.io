<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>数据传输的加解密 | 0x80x17</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 7.0.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">数据传输的加解密</h1><a id="logo" href="/.">0x80x17</a><p class="description">hello, world:)</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">数据传输的加解密</h1><div class="post-meta">2022-08-31</div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-text">说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%AF%86%E4%BC%A0%E8%BE%93%E7%9A%84%E6%BC%94%E8%BF%9B"><span class="toc-text">数据加密传输的演进</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95"><span class="toc-text">对称加密算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95"><span class="toc-text">非对称加密算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CA-Certificate-Authority-%E4%B8%8E%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6"><span class="toc-text">CA(Certificate Authority)与数字证书</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%91%98%E8%A6%81%E7%AE%97%E6%B3%95"><span class="toc-text">数据摘要算法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-HTTPS-%E8%BF%9E%E6%8E%A5%E5%99%A8"><span class="toc-text">配置 HTTPS 连接器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-HTTPS-HTTP-over-Secure"><span class="toc-text">什么是 HTTPS(HTTP over Secure)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE"><span class="toc-text">如何配置</span></a></li></ol></li></ol></div></div><div class="post-content"><h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>互联网数据传输出于安全考虑对数据加密是必要的操作，本文主要介绍常用的操作方式，以及这些方式背后的逻辑，会涉及到较多常用的术语，对于具体的算法实现细节不做说明；既然加密是为了安全性考虑，那么就<strong>从安全中攻防</strong>的角度来叙述各种操作及其效果</p>
<h2 id="数据加密传输的演进"><a href="#数据加密传输的演进" class="headerlink" title="数据加密传输的演进"></a>数据加密传输的演进</h2><p>有必要先知道现代密码学设计的基本原则(<strong>科克霍夫原则</strong>)，数据的安全不是基于算法的保密，而是基于密钥</p>
<span id="more"></span>

<h3 id="对称加密算法"><a href="#对称加密算法" class="headerlink" title="对称加密算法"></a>对称加密算法</h3><p>对数据进行加密传输，我们很容易想到一种加密方式，通过算法生成密钥来对数据进行加密，然后把密钥告诉给信息接收方，接收方通过该密钥进行解密，这就是<strong>对称加密算法</strong>，也叫作单密钥加密算法，典型的算法有 <code>DES(Data Encryption Standard)</code>(几乎不可用了)，<code>3DES</code>，<code>AES（至今尚未破解，通常用于移动通讯系统加密以及基于 SSH 协议的软件</code> 等</p>
<p>但是对称加密算法的问题在于<strong>密钥的传输</strong>，比如在传输过程中，密钥被第三方获取，那么数据安全就不复存在了，所以出现了下面的<strong>非对称加密算法</strong></p>
<h3 id="非对称加密算法"><a href="#非对称加密算法" class="headerlink" title="非对称加密算法"></a>非对称加密算法</h3><p>非对称加密算法一定程度解决了<strong>密钥传输的安全性问题</strong>，非对称加密算法会生成一对密钥：公钥和私钥，<strong>公钥加密的数据只能用对应的私钥来解密，在网络传输中只需要把公钥传给对方即可</strong>，这就保证了即使拿到公钥的第三方由于没有私钥，也无法解密数据，典型的算法有<code>RSA</code>，<code>DH</code>等</p>
<p>但是，上面的算法还是存在问题，比如我截获了信息发送方的数据后，不是想要解密，而是在本地自己生成一对公钥和私钥，把<strong>虚假的信息</strong>加密后发送给信息接收方， 由于信息接收方无法辨认我是谁，会把虚假信息信以为真，针对这种情况，就需要一个可以信任的机构来出来认证了，这就是下面要说的 CA 和数字证书</p>
<h3 id="CA-Certificate-Authority-与数字证书"><a href="#CA-Certificate-Authority-与数字证书" class="headerlink" title="CA(Certificate Authority)与数字证书"></a>CA(Certificate Authority)与数字证书</h3><p>为了解决上面身份认证的问题，出现了 CA 机构和数字证书</p>
<p>A 想向 B 发数据，B 首先将公钥发给 CA 机构，CA 机构拿到 B 的公钥后会向 B 进行确认，确认无误后，<strong>CA 机构就会为 B 的公钥做担保，生成一份数字证书给 B，数字证书包含了 CA 的担保认证签名和 B 的公钥</strong>，B拿到 CA 的这份数字证书后，就发给A，A 拿到数字证书后，看到上面有 CA 的签名(一般是由浏览器来进行数字证书的验证)，就可以确定当前拿到的公钥是 B 发的，那么就可以放心大胆地使用公钥加密数据，然后发给 B 了</p>
<p>然而这种方式还是存在问题，比如伪造 CA 进行认证，这种情况一般我们不考虑，因为密码学一定要基于一个<strong>信任点</strong>来建立密码体系，这里这个信任点就是 CA 机构了</p>
<p>CA 和数字证书解决了身份认证的问题，现在拿到证书的信息发送方确认了对方的身份，开始发送数据了，但是这里还有问题，我这时还可以拦截数据，再进行伪造，这就需要用到下面数据摘要的技术了</p>
<h3 id="数据摘要算法"><a href="#数据摘要算法" class="headerlink" title="数据摘要算法"></a>数据摘要算法</h3><p>上面拿到证书的信息发送方，可以确认对方的身份了；但是在自己发送数据时，为了确保对方收到数据的真实性和完整性，还需要<strong>对数据进行摘要，得到数据的指纹，再把数据指纹用公钥进行加密</strong>；对方拿到数据后，先用私钥进行解密，如果可以解开，那么说明数据是真实的(只有对应公钥加密后的数据才可以被私钥解密)，然后再把数据部分按照约定的数据摘要算法(<code>MD5</code>，<code>SHA</code>等)摘要一遍，再比对解密出来的数据指纹，如果一致，说明数据是完整的</p>
<p>至此，一个比较完整的安全的数据传输过程就建立起来了</p>
<h2 id="配置-HTTPS-连接器"><a href="#配置-HTTPS-连接器" class="headerlink" title="配置 HTTPS 连接器"></a>配置 HTTPS 连接器</h2><h3 id="什么是-HTTPS-HTTP-over-Secure"><a href="#什么是-HTTPS-HTTP-over-Secure" class="headerlink" title="什么是 HTTPS(HTTP over Secure)"></a>什么是 HTTPS(HTTP over Secure)</h3><blockquote>
<p>HTTPS is a protocol for sercure communication over a computer network which is widely used on the Internet. The main motivation for HTTPS is authentication of the visited website and to protect the privacy and integrity of the exchanged data.</p>
</blockquote>
<h3 id="如何配置"><a href="#如何配置" class="headerlink" title="如何配置"></a>如何配置</h3><p>浏览器与服务器交互时，浏览器想将数据加密后再发送给服务器，那么该怎么做呢？服务器首先要向浏览器出示一份数字证书，浏览器看到数字证书后，就可以使用数字证书里面的公钥加密数据，所以要想做浏览器和服务器的加密数据传输，那么</p>
<ul>
<li>首先得针对服务器生成一份数字证书</li>
<li>然后再配置一下服务器，让服务器收到浏览器的请求之后，会向浏览器出示它的数字证书</li>
<li>浏览器安装证书，使用证书中的公钥进行数据加密传输</li>
</ul>
<p>常用的 Tomcat 服务器就提供了 <code>keytool</code> 来生成证书，然后在 <code>server.xml</code> 文件中配置 https 连接器即可</p>
</div><div class="post-copyright"><script type="text/javascript" src="/js/copyright.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copyright.css?v=1.0.0"><p><span>本文标题：</span>数据传输的加解密</p><p><span>文章作者：</span>Ryan</p><p><span>原始链接：</span><a href="/2022/08/31/数据传输的加解密/">https://0x80x17.tech/2022/08/31/%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E5%8A%A0%E8%A7%A3%E5%AF%86/</a><span class="copy-path"><i class="fa fa-clipboard" data-clipboard-text="https://0x80x17.tech/2022/08/31/%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E5%8A%A0%E8%A7%A3%E5%AF%86/"></i></span></p><p><span>版权声明：</span>转载或引用请注明本文链接🔗</p></div><br><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E5%85%A8/" rel="tag">安全</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">网络</a></li></ul></div><div class="post-nav"><a class="pre" href="/2022/09/14/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6%E5%AD%A6%E4%B9%A0/">浏览器缓存机制学习</a><a class="next" href="/2022/08/11/%E4%BB%8E-JavaBean%E5%88%B0%E9%A2%86%E5%9F%9F%E6%A8%A1%E5%9E%8B/">从 JavaBean到领域模型</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://0x80x17.tech"/></form></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img class="nofancybox" src="/img/avatar.png"/></a><p>A Lean Coder.</p></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/%E8%AE%BE%E8%AE%A1/" style="font-size: 15px;">设计</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/" style="font-size: 15px;">分布式系统</a> <a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 15px;">翻译</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 15px;">虚拟机</a> <a href="/tags/%E7%BA%BF%E7%A8%8B-%E5%B9%B6%E5%8F%91/" style="font-size: 15px;">线程&并发</a> <a href="/tags/%E7%BB%8F%E9%AA%8C%E6%95%99%E8%AE%AD/" style="font-size: 15px;">经验教训</a> <a href="/tags/%E8%AF%AD%E6%B3%95/" style="font-size: 15px;">语法</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 15px;">工具</a> <a href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" style="font-size: 15px;">中间件</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 15px;">网络</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/" style="font-size: 15px;">数据结构&算法</a> <a href="/tags/JS/" style="font-size: 15px;">JS</a> <a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 15px;">安全</a> <a href="/tags/%E4%BC%98%E5%8C%96/" style="font-size: 15px;">优化</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2023/06/01/%E5%85%B3%E4%BA%8E%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/">关于负载均衡</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/05/17/%E5%85%B3%E4%BA%8E-Skip-list/">关于 Skip list</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/04/30/%E7%86%94%E6%96%AD-%E9%99%8D%E7%BA%A7/">熔断&降级</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/04/19/%E5%85%B3%E4%BA%8E%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6/">关于流量控制</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/03/03/%E8%81%8A%E8%81%8A%E5%B9%82%E7%AD%89/">聊聊幂等</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/19/Java-ThreadLocal%E8%A7%A3%E6%9E%90-2/">Java ThreadLocal解析(2)</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/12/Java-ThreadLocal%E8%A7%A3%E6%9E%90-1/">Java ThreadLocal解析(1)</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/01/15/Java-AQS%E8%A7%A3%E6%9E%90-2/">Java AQS解析(2)</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/01/09/Java-AQS%E8%A7%A3%E6%9E%90-1/">Java AQS解析(1)</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/15/Java-%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E8%A7%A3%E8%AF%BB-2/">Java 内存模型解读(2)</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2023 <a href="/." rel="nofollow">0x80x17.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>