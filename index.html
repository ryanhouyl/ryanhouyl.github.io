<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>0x80x17 | hello, world:)</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 7.0.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">0x80x17</h1><a id="logo" href="/.">0x80x17</a><p class="description">hello, world:)</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"><a href="/2022/10/11/Redis-Cluster%E6%89%A9%E5%B1%95%E6%80%A7%E5%92%8C%E5%8F%AF%E7%94%A8%E6%80%A7%E8%AE%BE%E8%AE%A1/">Redis Cluster扩展性和可用性设计</a></h1><div class="post-meta">2022-10-11</div><div class="post-content"><h2 id="Redis-Cluster-如何解决扩展性问题"><a href="#Redis-Cluster-如何解决扩展性问题" class="headerlink" title="Redis Cluster 如何解决扩展性问题"></a>Redis Cluster 如何解决扩展性问题</h2><p>思考如下场景，当单台 redis 服务节点存储容量达到上限，不考虑加内存等垂直扩展方式，如何通过增加 redis 服务节点实现水平扩展？增加服务节点本身不是难点所在，问题在于增加了服务节点后，客户端如何确定需要访问哪个服务节点？</p>
<p>最简单的方式是客户端计算出 key 的哈希值后，对服务节点数量做取模运算，结果即为服务节点下标值(服务节点从零开始进行编号)。当然弊端也很明显，一旦增加或者删除节点，会导致大量缓存键失效重建，一般不会采用这种实现。</p></div><p class="readmore"><a href="/2022/10/11/Redis-Cluster%E6%89%A9%E5%B1%95%E6%80%A7%E5%92%8C%E5%8F%AF%E7%94%A8%E6%80%A7%E8%AE%BE%E8%AE%A1/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2022/10/04/%E9%9B%B6%E6%8B%B7%E8%B4%9D%E6%8A%80%E6%9C%AF%E8%A7%A3%E6%9E%90/">零拷贝技术解析</a></h1><div class="post-meta">2022-10-04</div><div class="post-content"><p>本文为翻译文章，原文链接为: <a target="_blank" rel="noopener" href="https://developer.ibm.com/technologies/java/articles/j-zerocopy/">Efficient data transfer through zero copy</a></p>
<h3 id="Zero-copy-是什么"><a href="#Zero-copy-是什么" class="headerlink" title="Zero-copy 是什么"></a>Zero-copy 是什么</h3><blockquote>
<p>“Zero-copy” describes computer operations in which the CPU does not perform the task of copying data from one memory area to another. This is frequently used to save CPU cycles and memory bandwidth when transmitting a file over a network.       – from Wikipedia</p>
</blockquote></div><p class="readmore"><a href="/2022/10/04/%E9%9B%B6%E6%8B%B7%E8%B4%9D%E6%8A%80%E6%9C%AF%E8%A7%A3%E6%9E%90/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2022/09/25/Sharding-IDs-at-Instagram/">Sharding &amp; IDs at Instagram</a></h1><div class="post-meta">2022-09-25</div><div class="post-content"><p>本文为 Instagram Engineering 博客中文章的翻译，原文链接：<a target="_blank" rel="noopener" href="https://engineering.instagram.com/sharding-ids-at-instagram-1cf5a71e5a5c">Sharding &amp; IDs at Instagram</a></p>
<p>每秒有超过25张照片，90个 like 在 Instagram 上产生，导致应用存储了大量数据。为了保证所有重要数据可以加载入内存，并被用户快速获取，Instagram 进行了 shard(数据分片)，换句话说就是要把数据放在很多小的 bucket 中</p>
<p>ins 的后台服务使用 Django 框架，数据存储在 PostgreSQL中。在决定进行数据 shard 后，遇到的第一个问题就是是否仍然采用 PostgreSQL 作为主存储，还是选择别的存储方案。在调研了其他的 NoSQL 方案后，确定<strong>最适合目前场景</strong>的方案是把数据 shard 到多台 PostgreSQL 服务器上（注：虽然这里一笔带过，但是整个调研过程是很重要的）</p></div><p class="readmore"><a href="/2022/09/25/Sharding-IDs-at-Instagram/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2022/08/03/JVM-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/">JVM 类加载器</a></h1><div class="post-meta">2022-08-03</div><div class="post-content"><h2 id="类加载器是什么"><a href="#类加载器是什么" class="headerlink" title="类加载器是什么"></a>类加载器是什么</h2><p>定义摘自<code>深入理解Java虚拟机</code></p>
<blockquote>
<p>虚拟机设计团队把类加载阶段中的“通过一个类的全限定名获取描述此类的二进制字节流”这个动作放到 Java 虚拟机外部去实现，以便让应用程序自己决定如何去获取所需要的类。而实现这个动作的代码模块称为“类加载器”</p>
</blockquote>
<p>从上面的定义中，我们可以得到如下信息：</p></div><p class="readmore"><a href="/2022/08/03/JVM-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2022/07/21/%E4%BB%8E%E7%AE%80%E5%8D%95%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D%E5%88%B0-KMP%E7%AE%97%E6%B3%95/">从简单模式匹配到 KMP算法</a></h1><div class="post-meta">2022-07-21</div><div class="post-content"><p>在日常编程中，字符串的使用是相当频繁的，从一个文本串中找到另一个我们需要的子串是常见的场景，所以有必要了解一下模式匹配的知识</p>
<p>本文主要从思路上来比较简单模式匹配与 KMP 算法的不同之处，体会<strong>解决问题的思路</strong>对于算法设计的重要性。当然程序的编写也有用到一些技巧，不过技巧这种东西随着不断练习只是时间问题，而思路这东西就未必了，尤其是原创性的思路</p></div><p class="readmore"><a href="/2022/07/21/%E4%BB%8E%E7%AE%80%E5%8D%95%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D%E5%88%B0-KMP%E7%AE%97%E6%B3%95/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2022/06/21/null-awareness/">null awareness</a></h1><div class="post-meta">2022-06-21</div><div class="post-content"><p>前面翻译了一篇关于如何合理使用 null 的文章:<a href="https://0x80x17.tech/2022/06/01/Using-and-avoiding-null/">Using and avoiding null</a>，考虑到 null 的普遍性和 NPE 带来的大量问题，再写一篇文章做个总结是有必要的</p>
<h2 id="null-是什么"><a href="#null-是什么" class="headerlink" title="null 是什么"></a>null 是什么</h2><p>null 是任何一个引用类型变量的默认值。设计初衷是为了表示一些缺失的东西，比如缺失的资源或其他东西，再具体点说:</p></div><p class="readmore"><a href="/2022/06/21/null-awareness/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2022/06/01/Using-and-avoiding-null/">Using and avoiding null</a></h1><div class="post-meta">2022-06-01</div><div class="post-content"><p>文章翻译自 Google Guava 文档，原文链接: <a target="_blank" rel="noopener" href="https://github.com/google/guava/wiki/UsingAndAvoidingNullExplained">Using and avoiding null</a></p>
<h3 id="Why-avoid-null？"><a href="#Why-avoid-null？" class="headerlink" title="Why avoid null？"></a>Why avoid null？</h3><blockquote>
<p>“Null sucks.” -Doug Lea<br><br><br>“I call it my billion-dollar mistake.” - Sir C. A. R. Hoare, on his invention of the null reference</p>
</blockquote>
<p>随意使用 null 会带来比预料中更多的 bug。在研究了 Google 内部的代码库后，发现在高达95%的情况下，collections 中不应该有任何 null 值，对于开发者来说，往 collections 中添加 null 时 fail fast 而不是默默接受是更合理的</p></div><p class="readmore"><a href="/2022/06/01/Using-and-avoiding-null/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2022/05/27/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85/">作用域与闭包</a></h1><div class="post-meta">2022-05-27</div><div class="post-content"><h2 id="什么是闭包"><a href="#什么是闭包" class="headerlink" title="什么是闭包"></a>什么是闭包</h2><p>简单来说一句话：<strong>带上下文的函数</strong>，下面展开说明一下</p>
<p>声明：接下来的部分内容来自对 StackOverflow 回答的翻译，原答案链接 <a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/36636/what-is-a-closure">What is a ‘Closure’?</a></p>
<p>要想理解好闭包，首先要弄清楚 <code>Scope</code>，当我们声明一个局部变量时，这个变量会有一个 Scope，通常局部变量仅在声明它的 block 或 function 中有效，比如下面 JS 代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// works</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// fails</span></span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2022/05/27/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2022/04/13/%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86%E4%BF%A1%E6%81%AF%E9%9A%90%E8%97%8F/">重新认识信息隐藏</a></h1><div class="post-meta">2022-04-13</div><div class="post-content"><h2 id="一个重要却容易忽略的问题"><a href="#一个重要却容易忽略的问题" class="headerlink" title="一个重要却容易忽略的问题"></a>一个重要却容易忽略的问题</h2><p>在谈到 OOP 时，大家一般会想到<strong>封装，继承和多态</strong>，所谓封装，就是将数据与相关行为包装在一起以实现信息隐藏。更准确的来说，<strong>信息隐藏是我们编程时的原则，而封装是实现信息隐藏的一种方式。</strong>那信息隐藏为什么如此重要？</p>
<p>引用一段<code>Effective Java</code>中的话：</p>
<blockquote>
<p>要区别设计良好的模块和设计不好的模块，重要的标志在于，这个模块对于外部其他模块而言，是否隐藏其内部数据和实现细节。设计良好的模块会隐藏所有的实现细节，模块间仅通过API进行通信</p>
</blockquote></div><p class="readmore"><a href="/2022/04/13/%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86%E4%BF%A1%E6%81%AF%E9%9A%90%E8%97%8F/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2022/04/05/%E5%9B%9E%E8%B0%83%E5%8F%8A%E5%9C%A8-Java%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8/">回调及在 Java中的使用</a></h1><div class="post-meta">2022-04-05</div><div class="post-content"><h2 id="回调是什么"><a href="#回调是什么" class="headerlink" title="回调是什么"></a>回调是什么</h2><p>维基百科的定义如下:</p>
<blockquote>
<p>In computer programming, a callback, also known as a “call-after” function, is any executable code that is passed as an argument to other code; that other code is expected to call back (execute) the argument at a given time. This execution may be immediate as in a synchronous callback, or it might happen at a later time as in an asynchronous callback. Programming languages support callbacks in different ways, often implementing them with subroutines, lambda expressions, blocks, or function pointers.</p>
</blockquote>
<p>可以类比打电话帮助理解：方法调用可以类比为给某人打电话，然后问他一个问题，得到答案后挂掉电话；那么回调就可以类比为，打电话询问问题后，把你的名字和电话告诉他(register a callback function)，这样他就可以在知道答案后再打电话回答你(callback)</p></div><p class="readmore"><a href="/2022/04/05/%E5%9B%9E%E8%B0%83%E5%8F%8A%E5%9C%A8-Java%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8/">阅读全文</a></p></div><nav class="page-navigator"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">下一页</a></nav></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://0x80x17.tech"/></form></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img class="nofancybox" src="/img/avatar.png"/></a><p>A Lean Coder.</p></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/%E8%AE%BE%E8%AE%A1/" style="font-size: 15px;">设计</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/" style="font-size: 15px;">分布式系统</a> <a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 15px;">翻译</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 15px;">虚拟机</a> <a href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" style="font-size: 15px;">中间件</a> <a href="/tags/%E7%BB%8F%E9%AA%8C%E6%95%99%E8%AE%AD/" style="font-size: 15px;">经验教训</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95/" style="font-size: 15px;">数据结构&算法</a> <a href="/tags/JS/" style="font-size: 15px;">JS</a> <a href="/tags/%E4%BC%98%E5%8C%96/" style="font-size: 15px;">优化</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2022/10/11/Redis-Cluster%E6%89%A9%E5%B1%95%E6%80%A7%E5%92%8C%E5%8F%AF%E7%94%A8%E6%80%A7%E8%AE%BE%E8%AE%A1/">Redis Cluster扩展性和可用性设计</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/04/%E9%9B%B6%E6%8B%B7%E8%B4%9D%E6%8A%80%E6%9C%AF%E8%A7%A3%E6%9E%90/">零拷贝技术解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/09/25/Sharding-IDs-at-Instagram/">Sharding & IDs at Instagram</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/08/03/JVM-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/">JVM 类加载器</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/21/%E4%BB%8E%E7%AE%80%E5%8D%95%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D%E5%88%B0-KMP%E7%AE%97%E6%B3%95/">从简单模式匹配到 KMP算法</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/21/null-awareness/">null awareness</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/01/Using-and-avoiding-null/">Using and avoiding null</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/05/27/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85/">作用域与闭包</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/13/%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86%E4%BF%A1%E6%81%AF%E9%9A%90%E8%97%8F/">重新认识信息隐藏</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/05/%E5%9B%9E%E8%B0%83%E5%8F%8A%E5%9C%A8-Java%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8/">回调及在 Java中的使用</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2023 <a href="/." rel="nofollow">0x80x17.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>